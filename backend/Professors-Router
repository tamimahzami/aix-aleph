// src/routes/professors.js
import { Router } from "express";
import { prisma } from "../db/index.js";
import { successResponse, errorResponse } from "../utils.js";

export const professorsRouter = Router();

professorsRouter.get("/", async (_req, res) => {
  const items = await prisma.professor.findMany({ orderBy: { createdAt: "desc" } });
  successResponse(res, { items });
});

professorsRouter.get("/:id", async (req, res) => {
  const item = await prisma.professor.findUnique({ where: { id: req.params.id } });
  if (!item) return errorResponse(res, 404, "Professor not found");
  successResponse(res, { item });
});
