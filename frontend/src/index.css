/***** Tailwind Directives *****/
@tailwind base;
@tailwind components;
@tailwind utilities;

/***** App-weite Design-Tokens *****/
:root{
  --blurple:#5865f2;
  --blurple-700:#404eed;
  --grey-900:#23272a;
  --grey-800:#2b2d31;
  --grey-700:#313338;
  --green:#57f287;
  --pink:#eb459e;
  --yellow:#fee75c;

  --color-primary:var(--blurple);
  --color-primary-strong:var(--blurple-700);
  --color-bg:var(--grey-900);
  --color-surface:var(--grey-800);
  --color-line:rgba(255,255,255,0.08);
  --color-ink:#fff;
  --color-ink-muted:rgba(255,255,255,0.7);
}

/***** Basis-Styles *****/
html{ font-feature-settings:"ss01" on,"cv01" on; }
body{
  font-family: ui-sans-serif,system-ui,-apple-system,Inter,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  background: var(--color-bg);
  color: var(--color-ink);
}
:where(html,body,#root){ height:100%; }

/***** Komponenten & Utilities *****/
@layer components{
  .panel{
    /* keine @apply auf eigene Klassen */
    background-color: var(--color-surface);
    border: 1px solid var(--color-line);
    border-radius: 0.75rem; /* ~ rounded-xl */
    box-shadow: 0 12px 32px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.35);
  }
}

@layer utilities{
  .text-muted{ color: var(--color-ink-muted); }
  .bg-surface{ background-color: var(--color-surface); }

  .btn{
    @apply inline-flex items-center justify-center rounded-full px-5 py-3 text-[15px] font-semibold tracking-tight transition-all duration-200;
    box-shadow: 0 1px 0 rgba(0,0,0,.4), 0 6px 20px rgba(0,0,0,.2);
  }
  .btn-primary{ background: var(--blurple); color:#fff; }
  .btn-primary:hover{ background: var(--blurple-700); transform: translateY(-1px); }
  .btn-ghost{ background: transparent; color:#fff; border:1px solid rgba(255,255,255,.18); }
  .btn-ghost:hover{ background: rgba(255,255,255,.08); transform: translateY(-1px); }
}

/* Hero/Pattern */
.bg-hero-gradient{
  background:
    radial-gradient(1200px 400px at 50% 0%, rgba(88,101,242,.35), transparent 60%),
    linear-gradient(180deg, #23272a 0%, #2b2d31 60%, #23272a 100%);
}
.bg-wave-mask{
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 120" preserveAspectRatio="none"><path d="M0,96 C240,144 480,48 720,72 C960,96 1200,144 1440,96 L1440,0 L0,0 Z" fill="%2323272a"/></svg>');
  background-size:cover;
  background-repeat:no-repeat;
}

/* Leaflet Dark-UI */
.leaflet-container{ background: var(--grey-800); outline:none; }
/* ── Live Markers: Pulse + Charger Dial ───────────────────────── */

@keyframes aix-pulse {
  0%   { transform: scale(0.9); opacity: 0.55; }
  70%  { transform: scale(1.6); opacity: 0; }
  100% { transform: scale(1.6); opacity: 0; }
}

.aix-marker {
  position: relative;
  width: 14px;
  height: 14px;
  border-radius: 9999px;
  color: #57f287; /* default green */
  background: currentColor;
  box-shadow: 0 0 0 2px rgba(0,0,0,.25), 0 6px 18px rgba(0,0,0,.35);
}

/* Pulse-Ring */
.aix-marker::after {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 9999px;
  background: currentColor;
  opacity: .35;
  animation: aix-pulse 1.8s ease-out infinite;
}

/* Farbvarianten */
.aix-green { color: #57f287; }
.aix-red   { color: #ff5252; }  /* Incidents */
.aix-blue  { color: #60a5fa; }  /* optional */

/* Charger: kreisförmige Füllstandsanzeige via conic-gradient */
.aix-charger {
  --p: 0.66turn; /* fallback: ca. 66% */
  position: relative;
  width: 18px;
  height: 18px;
  border-radius: 9999px;
  background:
    conic-gradient(#57f287 var(--p), rgba(255,255,255,.12) 0) /* Dial */,
    radial-gradient(circle at 50% 50%, #1f2937 60%, transparent 61%);       /* Loch in der Mitte */
  box-shadow: 0 0 0 2px rgba(0,0,0,.25), 0 6px 18px rgba(0,0,0,.35);
}

/* dezentes Leuchten für aktive Charger */
.aix-charger::after {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 9999px;
  background: rgba(87,242,135,.25);
  filter: blur(3px);
  opacity: .6;
}
